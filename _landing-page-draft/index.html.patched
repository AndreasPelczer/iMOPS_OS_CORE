<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Andreas Pelczer â€” Dead Rabbit Productions</title>
  <meta name="description" content="36 Jahre Produktion. Jetzt Systeme. iOS-Entwickler, Autor, GrÃ¼nder Dead Rabbit Productions.">

  <!-- Fonts -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:ital,wght@0,300;0,400;0,700;1,400&family=Instrument+Serif:ital@0;1&display=swap" rel="stylesheet">

  <!-- Styles -->
  <link rel="stylesheet" href="css/main.css">
</head>
<body>

  <!-- ============================================
       SENTINEL: iMOPS Floating Logo
       ============================================ -->
  <a href="imops.html" class="sentinel" id="sentinel" title="iMOPS â€“ Mehr erfahren">
    <svg class="sentinel__logo" viewBox="0 0 200 220" xmlns="http://www.w3.org/2000/svg" aria-label="iMOPS">
      <path d="M60 0 L100 0 L100 50 L170 50 L170 80 L142 80 L170 220 L130 220 L108 105 L100 80 L90 80 L82 105 L60 220 L20 220 L48 80 L20 80 L20 50 L60 50 Z" fill="#ff6b35"/>
    </svg>
    <span class="sentinel__label">iMOPS</span>
  </a>

  <!-- Language Switcher -->
  <nav class="lang-switcher" aria-label="Sprache wÃ¤hlen">
    <a href="index.html" class="lang-switcher__link lang-switcher__link--active" title="Deutsch">DE</a>
    <a href="en/" class="lang-switcher__link" title="English">EN</a>
    <a href="es/" class="lang-switcher__link" title="EspaÃ±ol">ES</a>
    <a href="pt/" class="lang-switcher__link" title="PortuguÃªs">PT</a>
  </nav>

  <!-- ============================================
       HERO SECTION
       ============================================ -->
  <section class="hero">
    <!-- Background Visual mit Parallax -->
    <div class="hero__visual">
      <img
        src="assets/images/hero-banner.png"
        alt="iMOPS - System Engine for Human Workflows"
        class="hero__image"
        loading="eager"
      >
      <div class="hero__scanlines"></div>
      <div class="hero__gradient"></div>
      <div class="hero__glow"></div>
    </div>

    <!-- Parallax Layer fÃ¼r Tiefe -->
    <div class="hero__parallax-layer hero__parallax-layer--back" aria-hidden="true"></div>
    <div class="hero__parallax-layer hero__parallax-layer--mid" aria-hidden="true"></div>

    <!-- Floating Terminal Text (Das gewisse Extra) -->
    <div class="hero__floating-text hero__floating-text--top">
      ^bin da ;=)
    </div>
    <div class="hero__floating-text hero__floating-text--bottom">
      > Energie.
    </div>

    <!-- Hero Content mit Badge -->
    <div class="hero__content">
      <div class="container">
        <!-- Badge -->
        <div class="hero__badge">
          <span class="hero__badge-dot"></span>
          <span>DEAD RABBIT PRODUCTIONS</span>
        </div>

        <!-- Headline -->
        <h1 class="hero__title">
          <span class="hero__title-line">36 Jahre Produktion.</span>
          <span class="hero__title-line">Jetzt <em>Systeme</em>.</span>
        </h1>

        <!-- Subtext -->
        <p class="hero__subtitle">
          Andreas Pelczer â€” Gardemanger, Souschef, KÃ¼chenchef. Irgendwann gemerkt, dass das eigentliche Problem nie die Sauce war, sondern das System drumherum. Heute baue ich Software fÃ¼r Menschen, die unter Druck arbeiten.
        </p>

        <!-- Scroll Hint -->
        <div class="hero__scroll-hint">
          <span>Scroll</span>
          <div class="hero__scroll-chevron"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- ============================================
       PAGE CONTENT
       ============================================ -->
  <main class="page-content">
    <div class="container">

      <!-- Projekte Section -->
      <section class="section section--reveal" id="projekte">
        <h2 class="section__label">Software</h2>
        <p class="section__sublabel">Open Source Â· iOS</p>

        <div class="card-grid">
          <!-- iMOPS -->
          <a class="card" href="imops.html">
            <span class="card__type">Open Source Â· iOS Â· Kernel</span>
            <h3 class="card__title">iMOPS</h3>
            <p class="card__description">
              In-Memory Kernel fÃ¼r Produktionssteuerung. HACCP-konform, offline, deterministisch. MUMPS-inspiriert. FÃ¼r KÃ¼chen, die kein WLAN haben und keine Zeit fÃ¼r AbstÃ¼rze.
            </p>
            <div class="card__meta">
              <span class="badge badge--live">TESTFLIGHT</span>
              <span class="badge">MIT LIZENZ</span>
            </div>
            <span class="card__arrow">â†’ MEHR ERFAHREN</span>
          </a>

          <!-- Seubert-Assistent -->
          <a class="card" href="https://github.com/AndreasPelczer/Seubert-Assistent" target="_blank" rel="noopener">
            <span class="card__type">iOS App</span>
            <h3 class="card__title">Seubert-Assistent</h3>
            <p class="card__description">
              Produktinfos am Regal, ohne Suchen. Native iOS-App die Informationen unmittelbar dort verfÃ¼gbar macht, wo sie gebraucht werden: am Produkt.
            </p>
            <div class="card__meta">
              <span class="badge">â†’ iOS App</span>
            </div>
            <span class="card__arrow">â†’</span>
          </a>

          <!-- ChefIQ -->
          <a class="card" href="https://github.com/AndreasPelczer/ChefIQ-Clinical-Culinary-Intelligence" target="_blank" rel="noopener">
            <span class="card__type">iOS App</span>
            <h3 class="card__title">ChefIQ</h3>
            <p class="card__description">
              NÃ¤hrwerte + Allergene + KI. Hybrides Assistenzsystem fÃ¼r Gastronomie, Gemeinschaftsverpflegung und klinische DiÃ¤tetik.
            </p>
            <div class="card__meta">
              <span class="badge">â†’ iOS App</span>
            </div>
            <span class="card__arrow">â†’</span>
          </a>

          <!-- Kantina -->
          <div class="card">
            <span class="card__type">iOS App</span>
            <h3 class="card__title">Kantina</h3>
            <p class="card__description">
              SpeiseplÃ¤ne. Weniger MÃ¼ll, mehr System. Produktion steuern statt improvisieren.
            </p>
            <div class="card__meta">
              <span class="badge">â†’ iOS App</span>
            </div>
          </div>
        </div>
      </section>

      <div class="divider"></div>

      <!-- Beratung Section -->
      <section class="section section--reveal" id="beratung">
        <h2 class="section__label">Beratung</h2>
        <p class="section__sublabel">Systemanalyse Â· Digitalisierung Â· Workshops</p>

        <a class="card" href="beratung.html">
          <span class="card__type">Service</span>
          <h3 class="card__title">Beratung fÃ¼r Produktionsbetriebe</h3>
          <p class="card__description">
            Ihr System funktioniert nur, weil Ihr Team das Chaos kompensiert. Ich helfe Ihnen, AblÃ¤ufe so zu strukturieren, dass gute Arbeit nicht von Helden abhÃ¤ngt.
          </p>
          <div class="card__meta">
            <span class="badge badge--live">VerfÃ¼gbar</span>
            <span class="badge">Vor Ort & Remote</span>
          </div>
          <span class="card__arrow">â†’</span>
        </a>
      </section>

      <div class="divider"></div>

      <!-- Tech Stack -->
      <section class="section section--reveal" id="tech">
        <h2 class="section__label">Stack</h2>

        <div class="tech-strip">
          <span class="tech-item">
            <span class="tech-item__dot"></span>
            Swift
          </span>
          <span class="tech-item">
            <span class="tech-item__dot"></span>
            SwiftUI
          </span>
          <span class="tech-item">
            <span class="tech-item__dot"></span>
            SwiftData
          </span>
          <span class="tech-item">
            <span class="tech-item__dot"></span>
            Xcode
          </span>
          <span class="tech-item">
            <span class="tech-item__dot"></span>
            Offline-First
          </span>
          <span class="tech-item">
            <span class="tech-item__dot"></span>
            HACCP
          </span>
          <span class="tech-item">
            <span class="tech-item__dot"></span>
            ISO 9001
          </span>
        </div>
        <p style="font-size: 0.78rem; color: var(--color-text-dim); font-weight: 300; margin-top: var(--space-md);">Kein Schnickschnack.</p>
      </section>

      <div class="divider"></div>

      <!-- Publikationen -->
      <section class="section section--reveal" id="publikationen">
        <h2 class="section__label">Publikationen</h2>

        <div class="card-grid">
          <!-- Thermodynamik der Arbeit -->
          <div class="card">
            <span class="card__type">Fachbuch Â· 2025</span>
            <h3 class="card__title">Thermodynamik der Arbeit</h3>
            <p class="card__description">
              Warum Systeme kollabieren. Keine Motivation, keine Moral â€” nur Struktur. Die theoretische Grundlage hinter iMOPS.
            </p>
            <div class="card__meta">
              <span class="badge badge--live">ErhÃ¤ltlich</span>
            </div>
            <div class="card__actions">
              <a href="leseprobe-thermodynamik.html" class="card__btn">Leseprobe</a>
              <a href="https://www.amazon.de/dp/B0GK95MWB5" target="_blank" rel="noopener" class="card__btn card__btn--primary">Amazon â†’</a>
            </div>
          </div>

          <!-- Der KÃ¼chencode -->
          <div class="card">
            <span class="card__type">Memoir Â· In Arbeit</span>
            <h3 class="card__title">Der KÃ¼chencode</h3>
            <p class="card__description">
              36 Jahre. Von der Bundeswehr-Brigade bis zur SternekÃ¼che. Vom Gardemanger zum System Architect. Die Geschichte dahinter.
            </p>
            <div class="card__meta">
              <span class="badge">2026</span>
              <span class="badge">~70% fertig</span>
            </div>
            <div class="card__actions">
              <a href="leseprobe-kuechencode.html" class="card__btn card__btn--primary">Leseprobe</a>
            </div>
          </div>
        </div>
      </section>

      <!-- Quote -->
      <blockquote class="quote">
        <p class="quote__text">
          Das eigentliche Problem war nie die Sauce, sondern das System drumherum.
        </p>
        <cite class="quote__attribution">â€” README.md</cite>
      </blockquote>

      <div class="divider"></div>

      <!-- Hintergrund -->
      <section class="section section--reveal" id="hintergrund">
        <h2 class="section__label">Hintergrund</h2>

        <div class="timeline">
          <div class="timeline__entry">
            <span class="timeline__year">2024 â€” HEUTE</span>
            <h4 class="timeline__title">Dead Rabbit Productions</h4>
            <p class="timeline__description">
              GrÃ¼nder. iOS-Entwicklung, Fachbuch-Autor, System-Architektur fÃ¼r Produktionsumgebungen.
            </p>
          </div>

          <div class="timeline__entry">
            <span class="timeline__year">2023 â€” 2024</span>
            <h4 class="timeline__title">Syntax Institut</h4>
            <p class="timeline__description">
              iOS-Entwicklung. Swift, SwiftUI, Xcode. Von der Pfanne zum Compiler.
            </p>
          </div>

          <div class="timeline__entry">
            <span class="timeline__year">1994 â€” 1998</span>
            <h4 class="timeline__title">Bundeswehr â€” KÃ¼chenchef</h4>
            <p class="timeline__description">
              600-Mann-Brigade. Teamaufbau in mehrsprachigen Einheiten. HACCP. ISO 9001.
            </p>
          </div>

          <div class="timeline__entry">
            <span class="timeline__year">1988 â€” HEUTE</span>
            <h4 class="timeline__title">36 Jahre Professionelle Gastronomie</h4>
            <p class="timeline__description">
              Gardemanger â†’ Souschef â†’ KÃ¼chenchef â†’ Betriebsleiter. GroÃŸverpflegung, SternekÃ¼che, Kliniken, Europa-Park.
            </p>
          </div>
        </div>
      </section>

      <div class="divider"></div>

      <!-- Prinzipien -->
      <section class="section section--reveal" id="prinzipien">
        <h2 class="section__label">Prinzipien</h2>

        <div class="card-grid">
          <div class="card">
            <h3 class="card__title">Offline zuerst</h3>
            <p class="card__description">
              Im Keller gibt's kein WLAN. Um 20:30 wartet niemand auf einen Server. Die Software muss laufen â€” immer.
            </p>
          </div>

          <div class="card">
            <h3 class="card__title">Menschen Ã¼ber Profit</h3>
            <p class="card__description">
              Systeme die funktionieren, entlasten Menschen. Systeme die â€žmotivieren", belasten sie.
            </p>
          </div>

          <div class="card">
            <h3 class="card__title">Korrektes Verhalten,<br>einfach gemacht</h3>
            <p class="card__description">
              Wenn das Richtige schwerer ist als das Falsche, ist das System schuld â€” nicht der Mensch.
            </p>
          </div>

          <div class="card">
            <h3 class="card__title">Kein Schnickschnack</h3>
            <p class="card__description">
              Wenn du ein Handbuch brauchst, ist es zu komplex. SET / GET / KILL. Fertig.
            </p>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="footer">
        <div class="footer__inner">
          <div class="footer__brand">
            <img
              src="assets/images/dead-rabbit-logo.jpg"
              alt="Dead Rabbit Productions"
              class="footer__logo"
            >
            <div class="footer__brand-text">
              <h2 class="footer__brand-name">Andreas Pelczer</h2>
              <p class="footer__brand-tagline">System Architect Â· Production Systems Â· Author</p>
            </div>
          </div>

          <nav class="footer__links">
            <a href="https://github.com/AndreasPelczer" class="footer__link" target="_blank" rel="noopener">GitHub</a>
            <a href="https://www.linkedin.com/in/andreas-pelczer-5b5050160/" class="footer__link" target="_blank" rel="noopener">LinkedIn</a>
            <a href="https://www.amazon.de/Thermodynamik-Arbeit-warum-Systeme-kollabieren/dp/B0GK95MWB5" class="footer__link" target="_blank" rel="noopener">Amazon</a>
          </nav>
        </div>

        <div class="footer__bottom">
          <span class="footer__copy">Â© 2026 Dead Rabbit Productions Â· <span id="memento-trigger" style="color: var(--color-accent); letter-spacing: 2px; cursor: pointer; transition: text-shadow 0.3s;" title="...">MEMENTO MORI</span></span>
          <span class="footer__made-with">Frankfurt am Main / Wertheim</span>
        </div>
      </footer>

    </div>
  </main>

  <!-- Ambient Particles -->
  <div class="ambient-particles" aria-hidden="true">
    <div class="ambient-particles__dot"></div>
    <div class="ambient-particles__dot"></div>
    <div class="ambient-particles__dot"></div>
    <div class="ambient-particles__dot"></div>
    <div class="ambient-particles__dot"></div>
  </div>

  <!-- Ambient Light Sweep -->
  <div class="ambient-sweep" aria-hidden="true"></div>

  <!-- ============================================
       EASTER EGG: Conway's Game of Life
       Aktiviert durch Klick auf "MEMENTO MORI"
       ============================================ -->
  <div id="conway-overlay" class="conway-overlay" aria-hidden="true">
    <div class="conway-header">
      <h2 class="conway-title">GAME OF LIFE</h2>
      <p class="conway-subtitle">4 Regeln. Keine Steuerung. Emergenz.</p>
      <button class="conway-close" onclick="closeConway()" title="SchlieÃŸen">Ã—</button>
    </div>
    <div class="conway-patterns">
      <button onclick="conwayLoadPattern('glider')">Glider</button>
      <button onclick="conwayLoadPattern('blinker')">Blinker</button>
      <button onclick="conwayLoadPattern('pulsar')">Pulsar</button>
      <button onclick="conwayLoadPattern('glidergun')">Glider Gun</button>
      <button onclick="conwayLoadPattern('acorn')">Acorn</button>
      <button onclick="conwayLoadPattern('rpentomino')">R-Pentomino</button>
      <button onclick="conwayRandom()">Zufall</button>
    </div>
    <div class="conway-controls">
      <button onclick="conwayTogglePlay()" id="conway-play">â–¶ Start</button>
      <button onclick="conwayStep()">â†’ Schritt</button>
      <button onclick="conwayClear()">âœ• Reset</button>
      <span class="conway-stats">Gen: <span id="conway-gen">0</span> Â· Pop: <span id="conway-pop">0</span></span>
    </div>
    <canvas id="conway-canvas"></canvas>
    <p class="conway-hint">
      <em>Klick</em> = Zelle setzen/lÃ¶schen Â· <em>Ziehen</em> = Malen Â·
      Die 4 Regeln: Einsamkeit (&lt;2 Nachbarn â†’ Tod) Â· Ãœberleben (2-3 â†’ lebt) Â·
      ÃœberbevÃ¶lkerung (&gt;3 â†’ Tod) Â· Geburt (genau 3 â†’ lebt)
    </p>
  </div>

  <style>
    /* Conway Easter Egg Styles */
    .conway-overlay {
      position: fixed;
      inset: 0;
      background: rgba(10, 10, 10, 0.97);
      z-index: 10000;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      padding: 20px;
      opacity: 0;
      visibility: hidden;
      transition: opacity 0.4s ease, visibility 0.4s;
    }
    .conway-overlay.active {
      opacity: 1;
      visibility: visible;
    }
    .conway-header {
      text-align: center;
      margin-bottom: 15px;
      position: relative;
      width: 100%;
      max-width: 640px;
    }
    .conway-title {
      font-family: 'JetBrains Mono', monospace;
      font-size: 1.4rem;
      font-weight: 400;
      color: var(--color-accent, #ff6b35);
      letter-spacing: 3px;
      margin: 0;
    }
    .conway-subtitle {
      font-size: 0.75rem;
      color: #666;
      margin: 4px 0 0 0;
    }
    .conway-close {
      position: absolute;
      top: 0;
      right: 0;
      background: transparent;
      border: none;
      color: #666;
      font-size: 2rem;
      cursor: pointer;
      line-height: 1;
      padding: 0 10px;
      transition: color 0.2s;
    }
    .conway-close:hover {
      color: var(--color-accent, #ff6b35);
    }
    .conway-controls {
      display: flex;
      gap: 8px;
      margin-bottom: 15px;
      flex-wrap: wrap;
      justify-content: center;
      align-items: center;
    }
    .conway-controls button {
      background: #1a1a1a;
      color: #e0e0e0;
      border: 1px solid #333;
      padding: 8px 14px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.75rem;
      cursor: pointer;
      transition: all 0.15s;
      border-radius: 3px;
    }
    .conway-controls button:hover {
      background: #2a2a2a;
      border-color: var(--color-accent, #ff6b35);
      color: var(--color-accent, #ff6b35);
    }
    .conway-controls button.active {
      background: var(--color-accent, #ff6b35);
      color: #0a0a0a;
      border-color: var(--color-accent, #ff6b35);
    }
    .conway-stats {
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.7rem;
      color: #888;
      margin-left: 10px;
    }
    .conway-stats span {
      color: var(--color-accent, #ff6b35);
    }
    #conway-canvas {
      border: 1px solid #222;
      cursor: crosshair;
      image-rendering: pixelated;
      max-width: 100%;
    }
    .conway-patterns {
      display: flex;
      gap: 6px;
      margin-bottom: 10px;
      flex-wrap: wrap;
      justify-content: center;
    }
    .conway-patterns button {
      background: transparent;
      color: #666;
      border: 1px solid #222;
      padding: 4px 10px;
      font-family: 'JetBrains Mono', monospace;
      font-size: 0.65rem;
      cursor: pointer;
      transition: all 0.15s;
      border-radius: 3px;
    }
    .conway-patterns button:hover {
      color: var(--color-accent, #ff6b35);
      border-color: var(--color-accent, #ff6b35);
    }
    .conway-hint {
      font-size: 0.65rem;
      color: #555;
      margin-top: 14px;
      text-align: center;
      max-width: 500px;
      line-height: 1.6;
    }
    .conway-hint em {
      color: var(--color-accent, #ff6b35);
      font-style: normal;
    }
    #memento-trigger:hover {
      text-shadow: 0 0 10px var(--color-accent, #ff6b35);
    }
  </style>

  <!-- Scripts (Inline fÃ¼r file:// KompatibilitÃ¤t) -->
  <script>
    // ============================================
    // DEAD RABBIT PRODUCTIONS - Enhanced Parallax
    // ============================================

    document.addEventListener('DOMContentLoaded', () => {
      console.log('ðŸ° Dead Rabbit Productions');

      // --- HERO ELEMENTS ---
      const heroVisual = document.querySelector('.hero__visual');
      const heroImage = document.querySelector('.hero__image');
      const heroGlow = document.querySelector('.hero__glow');
      const scrollHint = document.querySelector('.hero__scroll-hint');
      const floatingTexts = document.querySelectorAll('.hero__floating-text');
      const heroContent = document.querySelector('.hero__content');
      const heroBadge = document.querySelector('.hero__badge');
      const heroTitle = document.querySelector('.hero__title');
      const heroSubtitle = document.querySelector('.hero__subtitle');

      // Floating Texts einblenden
      floatingTexts.forEach((text, i) => {
        setTimeout(() => {
          text.classList.add('hero__floating-text--visible');
        }, 1500 + i * 500);
      });

      // --- SMOOTH SCROLL HANDLING mit Lerp ---
      let currentScroll = 0;
      let targetScroll = 0;
      const lerp = (start, end, factor) => start + (end - start) * factor;

      // RAF Loop fÃ¼r butterweichen Parallax
      function smoothScroll() {
        targetScroll = window.scrollY;
        currentScroll = lerp(currentScroll, targetScroll, 0.1);

        const vh = window.innerHeight;
        const scrollProgress = Math.min(currentScroll / vh, 1);

        // Hero Image Parallax - langsamer als Scroll
        if (heroImage) {
          const parallaxY = currentScroll * 0.5;
          const scale = 1.1 - scrollProgress * 0.15;
          const blur = scrollProgress * 2;
          heroImage.style.transform = `translateY(${parallaxY}px) scale(${scale})`;
          heroImage.style.filter = `blur(${blur}px)`;
        }

        // Visual fade out mit easing
        if (heroVisual) {
          const opacity = 1 - Math.pow(scrollProgress, 0.7);
          heroVisual.style.opacity = Math.max(opacity, 0);
        }

        // Hero Content Parallax (schneller als Bild)
        if (heroContent) {
          const contentY = currentScroll * 0.3;
          const contentOpacity = 1 - Math.pow(scrollProgress * 1.5, 2);
          heroContent.style.transform = `translateY(${contentY}px)`;
          heroContent.style.opacity = Math.max(contentOpacity, 0);
        }

        // Floating texts Parallax
        floatingTexts.forEach((text, i) => {
          const direction = i % 2 === 0 ? 1 : -1;
          const floatY = currentScroll * (0.2 + i * 0.1) * direction;
          const floatOpacity = 0.8 - scrollProgress * 1.2;
          text.style.transform = `translateY(${floatY}px)`;
          text.style.opacity = Math.max(floatOpacity, 0);
        });

        // Glow einblenden
        if (heroGlow) {
          heroGlow.style.opacity = scrollProgress > 0.2 ? scrollProgress : '0';
        }

        // Scroll hint sanft ausfaden
        if (scrollHint) {
          const hintOpacity = 1 - Math.pow(scrollProgress * 3, 1.5);
          scrollHint.style.opacity = Math.max(hintOpacity, 0);
          scrollHint.style.transform = `translateX(-50%) translateY(${currentScroll * 0.5}px)`;
        }

        requestAnimationFrame(smoothScroll);
      }

      smoothScroll();

      // --- SECTION REVEAL mit IntersectionObserver ---
      const sections = document.querySelectorAll('.section--reveal');
      const sectionObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('section--visible');
            // Staggered reveal fÃ¼r Kinder
            const children = entry.target.querySelectorAll('.card, .timeline__entry, .tech-item');
            children.forEach((child, i) => {
              child.style.transitionDelay = `${i * 0.1}s`;
              child.classList.add('reveal--visible');
            });
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '-50px'
      });

      sections.forEach(section => sectionObserver.observe(section));

      // --- CARDS MOUSE TRACKING ---
      document.querySelectorAll('.card').forEach(card => {
        card.addEventListener('mousemove', (e) => {
          const rect = card.getBoundingClientRect();
          const x = ((e.clientX - rect.left) / rect.width) * 100;
          const y = ((e.clientY - rect.top) / rect.height) * 100;
          card.style.setProperty('--mx', x + '%');
          card.style.setProperty('--my', y + '%');
        });

        card.addEventListener('mouseleave', () => {
          card.style.setProperty('--mx', '50%');
          card.style.setProperty('--my', '50%');
        });
      });

      // --- DIVIDER REVEAL ---
      const dividers = document.querySelectorAll('.divider');
      const dividerObserver = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('divider--visible');
          }
        });
      }, { threshold: 0.5 });

      dividers.forEach(d => dividerObserver.observe(d));

      // --- CURSOR GLOW ---
      if (window.innerWidth > 768) {
        const glow = document.createElement('div');
        glow.className = 'cursor-glow';
        document.body.appendChild(glow);

        setTimeout(() => glow.classList.add('cursor-glow--active'), 1000);

        let mouseX = 0, mouseY = 0;
        let glowX = 0, glowY = 0;

        document.addEventListener('mousemove', (e) => {
          mouseX = e.clientX;
          mouseY = e.clientY;
        }, { passive: true });

        function updateGlow() {
          glowX = lerp(glowX, mouseX, 0.15);
          glowY = lerp(glowY, mouseY, 0.15);
          glow.style.left = glowX + 'px';
          glow.style.top = glowY + 'px';
          requestAnimationFrame(updateGlow);
        }
        updateGlow();
      }

      // --- SCROLL PROGRESS ---
      const progress = document.createElement('div');
      progress.className = 'scroll-progress';
      document.body.appendChild(progress);

      window.addEventListener('scroll', () => {
        const scrolled = window.scrollY / (document.documentElement.scrollHeight - window.innerHeight);
        progress.style.transform = `scaleX(${scrolled})`;
      }, { passive: true });

      // --- SENTINEL: iMOPS Logo Scroll Behavior ---
      const sentinel = document.getElementById('sentinel');
      const sentinelLogo = sentinel ? sentinel.querySelector('.sentinel__logo') : null;
      const projekteSection = document.getElementById('projekte');

      if (sentinel && sentinelLogo) {
        // Scroll-linked subtle rotation
        window.addEventListener('scroll', () => {
          const scrollProgress = window.scrollY / (document.documentElement.scrollHeight - window.innerHeight);
          const rotation = scrollProgress * 8; // 0Â° to 8Â° over full page
          sentinelLogo.style.transform = `rotate(${rotation}deg)`;
        }, { passive: true });

        // Glow burst when software section is in view
        if (projekteSection) {
          const sentinelObserver = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
              if (entry.isIntersecting) {
                sentinel.classList.add('sentinel--active');
              } else {
                sentinel.classList.remove('sentinel--active');
              }
            });
          }, { threshold: 0.2 });

          sentinelObserver.observe(projekteSection);
        }
      }

      console.log('âœ… Ready');

      // --- EASTER EGG: Conway's Game of Life ---
      const mementoTrigger = document.getElementById('memento-trigger');
      if (mementoTrigger) {
        mementoTrigger.addEventListener('click', () => {
          openConway();
        });
      }
    });

    // ============================================
    // CONWAY'S GAME OF LIFE - Easter Egg
    // ============================================
    let conwayCanvas, conwayCtx;
    let conwayGrid = [];
    let conwayRunning = false;
    let conwayInterval = null;
    let conwayGeneration = 0;
    let conwayIsDrawing = false;
    let conwayDrawValue = 1;
    const CONWAY_CELL = 8;
    let CONWAY_COLS = 80;
    let CONWAY_ROWS = 50;

    function openConway() {
      const overlay = document.getElementById('conway-overlay');
      overlay.classList.add('active');
      document.body.style.overflow = 'hidden';

      if (!conwayCanvas) {
        initConway();
      }

      // Load a random pattern to start
      conwayLoadPattern('glider');
    }

    function closeConway() {
      const overlay = document.getElementById('conway-overlay');
      overlay.classList.remove('active');
      document.body.style.overflow = '';

      if (conwayRunning) {
        conwayTogglePlay();
      }
    }

    function initConway() {
      conwayCanvas = document.getElementById('conway-canvas');
      conwayCtx = conwayCanvas.getContext('2d');

      // Responsive sizing
      const maxWidth = Math.min(window.innerWidth - 40, 640);
      CONWAY_COLS = Math.floor(maxWidth / CONWAY_CELL);
      CONWAY_ROWS = Math.floor((window.innerHeight * 0.5) / CONWAY_CELL);

      conwayCanvas.width = CONWAY_COLS * CONWAY_CELL;
      conwayCanvas.height = CONWAY_ROWS * CONWAY_CELL;

      conwayGrid = conwayCreateGrid();

      // Mouse events
      conwayCanvas.addEventListener('mousedown', conwayMouseDown);
      conwayCanvas.addEventListener('mousemove', conwayMouseMove);
      conwayCanvas.addEventListener('mouseup', () => conwayIsDrawing = false);
      conwayCanvas.addEventListener('mouseleave', () => conwayIsDrawing = false);

      // Touch events
      conwayCanvas.addEventListener('touchstart', conwayTouchStart, { passive: false });
      conwayCanvas.addEventListener('touchmove', conwayTouchMove, { passive: false });
      conwayCanvas.addEventListener('touchend', () => conwayIsDrawing = false);

      // Close on Escape
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Escape') closeConway();
      });

      conwayDraw();
    }

    function conwayCreateGrid() {
      return Array.from({ length: CONWAY_ROWS }, () => new Uint8Array(CONWAY_COLS));
    }

    function conwayDraw() {
      conwayCtx.fillStyle = '#0a0a0a';
      conwayCtx.fillRect(0, 0, conwayCanvas.width, conwayCanvas.height);

      // Subtle grid
      conwayCtx.strokeStyle = '#151515';
      conwayCtx.lineWidth = 0.5;
      for (let x = 0; x <= CONWAY_COLS; x++) {
        conwayCtx.beginPath();
        conwayCtx.moveTo(x * CONWAY_CELL, 0);
        conwayCtx.lineTo(x * CONWAY_CELL, CONWAY_ROWS * CONWAY_CELL);
        conwayCtx.stroke();
      }
      for (let y = 0; y <= CONWAY_ROWS; y++) {
        conwayCtx.beginPath();
        conwayCtx.moveTo(0, y * CONWAY_CELL);
        conwayCtx.lineTo(CONWAY_COLS * CONWAY_CELL, y * CONWAY_CELL);
        conwayCtx.stroke();
      }

      // Cells
      let pop = 0;
      for (let r = 0; r < CONWAY_ROWS; r++) {
        for (let c = 0; c < CONWAY_COLS; c++) {
          if (conwayGrid[r][c]) {
            pop++;
            const n = conwayCountNeighbors(r, c);
            if (n < 2 || n > 3) conwayCtx.fillStyle = '#ff4444';
            else if (n === 3) conwayCtx.fillStyle = '#44ff88';
            else conwayCtx.fillStyle = '#ff6b35';
            conwayCtx.fillRect(c * CONWAY_CELL + 1, r * CONWAY_CELL + 1, CONWAY_CELL - 2, CONWAY_CELL - 2);
          }
        }
      }

      document.getElementById('conway-pop').textContent = pop;
    }

    function conwayCountNeighbors(row, col) {
      let count = 0;
      for (let dr = -1; dr <= 1; dr++) {
        for (let dc = -1; dc <= 1; dc++) {
          if (dr === 0 && dc === 0) continue;
          const r = (row + dr + CONWAY_ROWS) % CONWAY_ROWS;
          const c = (col + dc + CONWAY_COLS) % CONWAY_COLS;
          count += conwayGrid[r][c];
        }
      }
      return count;
    }

    function conwayStep() {
      const next = conwayCreateGrid();
      for (let r = 0; r < CONWAY_ROWS; r++) {
        for (let c = 0; c < CONWAY_COLS; c++) {
          const n = conwayCountNeighbors(r, c);
          if (conwayGrid[r][c]) {
            if (n === 2 || n === 3) next[r][c] = 1;
          } else {
            if (n === 3) next[r][c] = 1;
          }
        }
      }
      conwayGrid = next;
      conwayGeneration++;
      document.getElementById('conway-gen').textContent = conwayGeneration;
      conwayDraw();
    }

    function conwayTogglePlay() {
      conwayRunning = !conwayRunning;
      const btn = document.getElementById('conway-play');
      if (conwayRunning) {
        btn.textContent = 'â¸ Pause';
        btn.classList.add('active');
        conwayInterval = setInterval(conwayStep, 100);
      } else {
        btn.textContent = 'â–¶ Start';
        btn.classList.remove('active');
        clearInterval(conwayInterval);
      }
    }

    function conwayClear() {
      if (conwayRunning) conwayTogglePlay();
      conwayGrid = conwayCreateGrid();
      conwayGeneration = 0;
      document.getElementById('conway-gen').textContent = '0';
      conwayDraw();
    }

    function conwayRandom() {
      conwayClear();
      for (let r = 0; r < CONWAY_ROWS; r++) {
        for (let c = 0; c < CONWAY_COLS; c++) {
          conwayGrid[r][c] = Math.random() < 0.25 ? 1 : 0;
        }
      }
      conwayDraw();
    }

    function conwayLoadPattern(name) {
      conwayClear();
      const cx = Math.floor(CONWAY_COLS / 2);
      const cy = Math.floor(CONWAY_ROWS / 2);

      const patterns = {
        glider: [[0,1],[1,2],[2,0],[2,1],[2,2]],
        blinker: [[0,0],[0,1],[0,2]],
        pulsar: (() => {
          const p = [];
          const offsets = [
            [-6,-4],[-6,-3],[-6,-2],[-6,2],[-6,3],[-6,4],
            [-4,-6],[-3,-6],[-2,-6],[-4,-1],[-3,-1],[-2,-1],
            [-4,1],[-3,1],[-2,1],[-4,6],[-3,6],[-2,6],
            [-1,-4],[-1,-3],[-1,-2],[-1,2],[-1,3],[-1,4],
          ];
          offsets.forEach(([r,c]) => {
            p.push([r,c]); p.push([-r,c]); p.push([r,-c]); p.push([-r,-c]);
          });
          const seen = new Set();
          return p.filter(([r,c]) => {
            const key = `${r},${c}`;
            if (seen.has(key)) return false;
            seen.add(key);
            return true;
          });
        })(),
        glidergun: [
          [0,24],[1,22],[1,24],[2,12],[2,13],[2,20],[2,21],[2,34],[2,35],
          [3,11],[3,15],[3,20],[3,21],[3,34],[3,35],[4,0],[4,1],[4,10],[4,16],[4,20],[4,21],
          [5,0],[5,1],[5,10],[5,14],[5,16],[5,17],[5,22],[5,24],[6,10],[6,16],[6,24],
          [7,11],[7,15],[8,12],[8,13]
        ],
        acorn: [[0,1],[1,3],[2,0],[2,1],[2,4],[2,5],[2,6]],
        rpentomino: [[0,1],[0,2],[1,0],[1,1],[2,1]],
      };

      const pat = patterns[name];
      if (pat) {
        const ox = name === 'glidergun' ? 5 : cx;
        const oy = name === 'glidergun' ? 5 : cy;
        pat.forEach(([r, c]) => {
          const row = oy + r;
          const col = ox + c;
          if (row >= 0 && row < CONWAY_ROWS && col >= 0 && col < CONWAY_COLS) {
            conwayGrid[row][col] = 1;
          }
        });
      }
      conwayDraw();
    }

    function conwayGetCell(e) {
      const rect = conwayCanvas.getBoundingClientRect();
      const x = e.clientX - rect.left;
      const y = e.clientY - rect.top;
      const col = Math.floor(x / CONWAY_CELL);
      const row = Math.floor(y / CONWAY_CELL);
      if (row >= 0 && row < CONWAY_ROWS && col >= 0 && col < CONWAY_COLS) {
        return { row, col };
      }
      return null;
    }

    function conwayMouseDown(e) {
      const cell = conwayGetCell(e);
      if (cell) {
        conwayIsDrawing = true;
        conwayDrawValue = conwayGrid[cell.row][cell.col] ? 0 : 1;
        conwayGrid[cell.row][cell.col] = conwayDrawValue;
        conwayDraw();
      }
    }

    function conwayMouseMove(e) {
      if (!conwayIsDrawing) return;
      const cell = conwayGetCell(e);
      if (cell) {
        conwayGrid[cell.row][cell.col] = conwayDrawValue;
        conwayDraw();
      }
    }

    function conwayTouchStart(e) {
      e.preventDefault();
      const touch = e.touches[0];
      conwayMouseDown({ clientX: touch.clientX, clientY: touch.clientY });
    }

    function conwayTouchMove(e) {
      e.preventDefault();
      const touch = e.touches[0];
      conwayMouseMove({ clientX: touch.clientX, clientY: touch.clientY });
    }
  </script>

</body>
</html>
